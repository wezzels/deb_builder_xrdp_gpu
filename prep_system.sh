#!/bin/bash
#Must be run as user and sudo be used. Or the SET_USER needs to be set to the correct user that needs access to the tap0
while getopts ":u:f:" flag
do
    case "${flag}" in
        u) SET_USER=${OPTARG};;
        f) SET_FILES=${OPTARG};;
    esac
done

if [ ! -z "$SET_USER" ]
then

  if [ "$EUID" -ne 0 ]
    then echo "Need to run as root. when using the -u <uid>."
    exit
  fi
  apt-get install -y uml-utilities gnutls-bin ovmf
  tunctl -t tap0 -u ${SET_USER}
  exit
fi

if [ "$SET_FILES" == "yes" ]
then
  if [ "$EUID" -eq 0 ]
    then echo "-f yes cannot run as root. Just \"./prep_system.sh -f yes\""
    exit
  fi
#Backup of the files that are binary
cat <<EOB> files.b64
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
57/efwMbVvMMAFAAAA==
EOB
  base64 --decode files.b64 >files.tar.gz
  tar -zxf files.tar.gz
  rm -f files.b64 files.tar.gz
  exit
fi

echo "Error: run with sudo or root with -u flag."
echo "       run as user with -f yes"
echo "USAGE: sudo prep_system.sh -u username"
echo "       prep_system.sh -f yes"
